<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Vitess - Vision</title>
<meta name="description" content="A set of servers and tools that facilitate scaling of MySQL databases for the web.">

<link rel="canonical" href="http://vitess.io/doc/Vision/">

<!-- Add to homescreen for Chrome on Android -->
<meta name="mobile-web-app-capable" content="yes">
<link rel="icon" sizes="196x196" href="/images/touch/chrome-touch-icon-196x196.png">

<!-- Add to homescreen for Safari on iOS -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="apple-mobile-web-app-title" content="Vitess">

<!-- Tile icon for Win8 (144x144 + tile color) -->
<meta name="msapplication-TileImage" content="/images/touch/ms-touch-icon-144x144-precomposed.png">
<meta name="msapplication-TileColor" content="#3372DF">

<link rel="stylesheet" href="/assets/vendor/styles/wsk.css">
<link rel="stylesheet" href="/css/main.css">
<link rel="stylesheet" href="/css/extra.css">
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,600,900|Roboto+Condensed:300,300italic,400,700">

</head>
<body class="">

<header id="app-bar" class="app-bar promote-layer">
  <div class="app-bar-container">
    <button id="menu" class="menu" title="Menu"></button>
    <h1 class="logo"><a href="/">Vitess</a></h1>
    <section class="app-bar-actions">
      <a href="#"><i class="icon icon-chevron-up"></i> Top</a>
    </section>
  </div>
</header>

<div class="navdrawer">
  <nav id="nav" class="navdrawer-container promote-layer">
    <h4>Navigation</h4>
    
<ul>
  
    <li >
      <a href="http://vitess.io//"></a>
    </li>
  
    <li >
      <a href="http://vitess.io/overview/">Overview</a>
    </li>
  
    <li >
      <a href="http://vitess.io/getting-started/">Getting Started</a>
    </li>
  
  <li><a href="https://github.com/youtube/vitess">GitHub</a></li>
</ul>

  </nav>
</div>

<main class="clear">

  <header class="page-header container">
    <h2 class="xxlarge text-divider">Vision</h2>
    
  </header>

  <div class="container">
    <h1 id="motivation-and-vision">Motivation and Vision</h1>

<p>MySQL is an easy relational database to get started with.
It&#39;s easy to setup and has a short learning curve.
However, as your system starts to scale, it begins to run out of steam.
This is mainly because it&#39;s non-trivial to shard a MySQL database after the fact.
Among other problems, the growing number of connections also becomes an
unbearable overhead.</p>

<p>On the other end of the spectrum, there are NoSQL databases.
However, they suffer from problems that mainly stem from the fact that they&#39;re new.
Those who have adopted them have struggled with the lack of secondary indexes,
table joins and transactions.</p>

<p>Vitess tries to bring the best of both worlds by trading off
some of MySQL&#39;s consistency features in order to achieve the
kind of scalability that NoSQL databases provide.</p>

<h3 id="priorities">Priorities</h3>

<ul>
<li><em>Scalability</em>: This is achieved by replication and sharding.</li>
<li><em>Efficiency</em>: This is achieved by a proxy server (vttablet) that mediates
all queries and connections.
It also utilizes a more efficient rowcache to short-cut some of the queries.
This effectively increases a typical MySQL&#39;s serving capacity.</li>
<li><em>Manageability</em>: As soon as you add replication and sharding that span
across multiple data centers, the number of servers spirals out of control.
Vitess provides a set of tools backed by a lockserver (zookeeper) to
track and administer them.</li>
<li><em>Simplicity</em>: As the complexity grows, it&#39;s important to hide this
from the application.
The vtgate servers give you a unified view of the fleet that makes
it feel like you&#39;re just interacting with one database.</li>
</ul>

<h3 id="trade-offs">Trade-offs</h3>

<p>Scalability and availability require some trade-offs:
* <em>Consistency</em>: In a typical web application, not all reads have to be
fully consistent.
Vitess lets you specify the kind of consistency you want on your read.
It&#39;s generally recommended that you use replica reads as they&#39;re easier to scale.
You can always request for master reads if you want up-to-date data.
You can also additionally perform &#39;for update&#39; reads that ensure that
a row will not change until you&#39;ve committed your changes.
* <em>Transactions</em>: Relational transactions are prohibitively expensive
across distributed systems.
Vitess eases this constraint and guarantees transactional integrity
&#39;per keyspace id&#39;, which is restricted to one shard.
Heuristically, this tends to cover most of an application&#39;s transactions.
For the few cases that don&#39;t, you can sequence your changes in such a way
that the system looks consistent even if a distributed transaction fails
in the middle.
* <em>Latency</em>: There is some negligible latency introduced by the proxy servers.
However, they make up for the fact that you can extract more throughput from
MySQL than you would otherwise be able to without them.</p>

<h3 id="preserved-mysql-features">Preserved MySQL features</h3>

<p>Since the underlying storage layer is still MySQL, we still get to preserve
its other important features:
* <em>Indexes</em>: You can create secondary indexes on your tables. This allows you
to efficiently query rows using more than one key.
* <em>Joins</em>:  MySQL allows you to split one-to-many and many-to-many relational data
into separate tables, and lets you join them on demand.
This flexibility generally results in more efficient storage as each piece of
data is stored only once, and fetched only if needed.</p>

<h3 id="the-vitess-spectrum">The Vitess spectrum</h3>

<p>The following diagram illustrates where vitess fits in the spectrum of storage solutions:</p>

<p><img src="https://raw.github.com/youtube/vitess/master/doc/VitessSpectrum.png" alt="Spectrum"></p>

  </div>

</main>


<footer>
  <div class="container">
    <p class="small">&copy; 2015 Google. Licensed under <a href="http://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>.</p>
  </div>
</footer>

<script src="/assets/scripts/main.js"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  if (window.location.hostname == 'youtube.github.io') {
    ga('create', 'UA-60219601-1', 'auto');
    ga('send', 'pageview');
  }
</script>

</body>
</html>

